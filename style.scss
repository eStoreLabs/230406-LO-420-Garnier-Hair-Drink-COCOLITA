// import Montserrat
@import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap");

// color variables
$color--main: #f08365;
$color--shadow: #a66161;
$color--accent-1: #0f6848;
$color--accent-2: #006b2d;
$color--accent-3: #267b32;

// font variables
$ff--montserrat: "Montserrat", "DejaVu Sans", "Verdana", sans-serif;
$fw--regular: 400;
$fw--bold: 700;
$ft--italic: italic;
$fs__heading--top: clamp(
  1.75rem,
  1.4737rem + 1.2632vw,
  2.5rem
); //28px - 40px, test it
$fs__heading--bottom: clamp(2rem, 1.3553rem + 2.9474vw, 3.75rem); //32px - 60 px
$fs__body: clamp(1rem, 0.9539rem + 0.2105vw, 1.125rem); //16-18px
$txt-shadow: 4px 2px 4px rgba(166, 97, 97, 0.3);
$txt-stroke--white: -1px 1px 0 #fff, 1px 1px 0 #fff, 1px -1px 0 #fff,
  -1px -1px 0 #fff;
$txt-stroke--main: -1px 1px 0 $color--main, 1px 1px 0 $color--main,
  1px -1px 0 $color--main, -1px -1px 0 $color--main;
  $txt-stroke--accent: -1px 1px 0 $color--accent-2, 1px 1px 0 $color--accent-2,
  1px -1px 0 $color--accent-2, -1px -1px 0 $color--accent-2;
// utility variables
// images
$file-path: "./img/";
$img-format: ".png";

// padding
$padding--S: 0.5rem;
$padding--M: 1rem;
$padding--L: 2rem;
$padding--XL: 3rem;
$padding--XXL: 6rem;

// typography mixins
@mixin body($fw, $case, $color) {
  font-family: $ff--montserrat;
  font-weight: $fw;
  font-size: $fs__body;
  text-transform: $case;
  color: $color;
}

@mixin heading($fs, $color) {
  font-family: $ff--montserrat;
  font-weight: $fw--bold;
  text-transform: uppercase;
  font-size: $fs;
  color: $color;
  //add outline effect
}

@mixin flex($direction, $justify) {
  display: flex;
  flex-direction: $direction;
  justify-content: $justify;
}

@mixin bg-cover($position) {
  background-size: cover;
  background-repeat: no-repeat;
  background-position: $position;
}

@mixin border ($color) {
  border: 2px solid $color;
  border-radius: 8px;
  padding: $padding--L;
  padding-bottom: $padding--XXL;
}
/////////////////////////////////////////////////////////////
// main styles

#es-RC-container {
  font-family: $ff--montserrat;
  //reset
  *,
  *:before,
  *:after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-size: 100%;
  }
  img {
    max-width: 100%;
    height: auto;
  }
  // reset end
  .es-hero {
    min-height: 400px;
    position: relative;
    &__left {
      background-image: url("#{$file-path}bg-hero-L#{$img-format}");
      @include bg-cover(left bottom);
      @include flex(column, center);
      color: white;
      text-transform: uppercase;
      font-weight: $fw--bold;
      padding: $padding--M;
      &--logo {
        max-width: 200px;
        margin-inline: auto;
      }
      &--new {
        background-color: $color--accent-1;
        max-width: fit-content;
        padding: 0.2rem;
        transform: rotate(355deg) skew(-5deg, 0deg);
      }
      &--title {
        font-size: clamp(2.5rem, 2.3618rem + 0.6316vw, 2.875rem);
        min-width: 10ch;
        text-shadow: $txt-shadow;
      }
      &--subtitle {
        font-size: clamp(1.125rem, 1.0789rem + 0.2105vw, 1.25rem);
        text-shadow: $txt-shadow;
        text-align: center;
      }
    }
    &__right {
      background-image: url("#{$file-path}bg-hero-R#{$img-format}");
      @include bg-cover(right bottom);
      @include flex(column, flex-end);
      position: relative;
      min-height: 500px;
      &--headline {
        color: white;
        text-transform: uppercase;
        font-weight: 700;
        font-size: clamp(1.5rem, 0.8553rem + 2.9474vw, 3.25rem);
        text-shadow: $txt-shadow;
        transform: rotate(355deg) skew(-5deg, 0deg);
        max-width: 18ch;
        position: absolute;
        right: 0;
        top: 1.5rem;
      }
    }
    &__middle {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      max-width: fit-content;
      position: absolute;
      bottom: 0;
      left: 0;
      &--badge {
        max-width: 80px;
      }
      &--packshot {
        max-width: 270px;
      }
    }
  }
  .es-benefits {
    padding: $padding--XL;
    text-align: center;
    &__header {
      position: relative;
      margin-bottom: $padding--XXL;
      &--container {
        @include border($color--main);
      }
      &--subtitle {
        @include heading($fs__body, $color--main);
        &--regular {
          text-transform: unset;
        }
      }
    }
    &__main {
      background-color: white;
      position: absolute;
      left: 50%;
      transform: translate(-50%, -30%);

      &--title {
        @include heading($fs__heading--top, $color--main);
      }
      & span {
        display: block;
        @include heading($fs__heading--bottom, white);
        text-shadow: $txt-stroke--main;
      }
    }
    &__icon-wrapper {
      padding-block: $padding--XXL;
    }
    &__icon-single {
      padding: $padding--M;
      &--title {
        @include body($fw--bold, uppercase, $color--main);
        margin-top: $padding--L;
      }
      &--descr {
        @include body($fw--regular, unset, black);
      }
    }
  }
  .es-how {
    background-image: url("#{$file-path}bg-hair#{$img-format}");
    @include bg-cover(center);
    min-height: 400px;
    position: relative;
    &__wrapper {
      position: absolute;
      padding: $padding--L;
      max-width: 34ch;
      right: 2rem;
      bottom: 2rem;
      text-align: center;
    }
    &__title {
      @include heading($fs__heading--top, white);
      & span {
        @include heading($fs__heading--bottom, #f09884);
        text-shadow: $txt-stroke--white;
      }
    }
    &__descr {
      @include body($fw--regular, unset, white);
    }
  }
  .es-use {
    padding: $padding--XXL $padding--XL;
    text-align: center;
    &__container {
      @include border($color--main);
      position: relative;
    }
    &__title {
      @include heading($fs__heading--top, $color--main);
      margin-top: -2em;
      margin-inline: auto;
      background-color: white;
      width: fit-content;
      & span {
        display: block;
        @include heading($fs__heading--bottom, white);
        text-shadow: $txt-stroke--main;
      }
    }
    &__wrapper {
      margin-top: -60px;
      backdrop-filter: opacity(100%);
    }
    &__single {
      padding: $padding--M;
      &--img {
        margin-bottom: $padding--S;
      }
      &--step {
        @include body($fw--bold, uppercase, $color--main);
      }
    }
  }
  .es-before-after {
    background-image: url("#{$file-path}bg-before-after#{$img-format}");
    @include bg-cover(center);
    @include flex(row, space-between);
    @include heading($fw--bold, white);
    font-size: $fs__body;
    padding: $padding--L;
    margin-block: $padding--XL;
    min-height: 300px;
  }
  .es-routine {
    text-align: center;
    
    &__bg {
      background-image: url("#{$file-path}bg-routine#{$img-format}");
      background-size: contain;
      background-repeat: no-repeat;
      padding-top: $padding--L;
    }
    a {
      text-decoration: none;
      color: inherit;
    }
    &__header {
      @include heading($fs__heading--top, white);
      padding: $padding--M;
      & span {
        display: block;
        @include heading($fs__heading--bottom, #dc7669);
        text-shadow: $txt-stroke--white;
      }
      &--S {
        color: $color--main;
        text-transform: uppercase;
        font-weight: $fw--bold;
      }
    }
    &__single {
      display: flex;
      flex-direction: column-reverse;
      align-items: center;
      justify-content: space-between;
      gap: $padding--M;
      margin-top: $padding--L;
      position: relative;
    }
    &__descr {
      max-width: 30ch;
    }
    &__arrow {
      visibility: hidden;
    }
    &__wrapper--border {
      margin-inline: $padding--XL;
      margin-top: -70px;
      margin-bottom: 220px;
      @include border($color--accent-2);
      padding-bottom: unset;
      position: relative;
      z-index: -1;
      height: 200px;
    }
    &__wrapper--content {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      top: 50%;
      width: 90%;
      padding-block: $padding--L;
      //margin-top: 100px;
      //margin-inline: auto;
      background-image: url("#{$file-path}recycle-symbol#{$img-format}");
      background-color: white;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
    }
    &__descr--wrapper {
      @include body($fw--bold, uppercase, $color--accent-2);
      font-size: smaller;
      margin-block: $padding--M;
    }
    &__header--wrapper {
      @include heading($fs__heading--top, $color--accent-2);
      
      & span {
        display: block;
        color: white;
        text-shadow: $txt-stroke--accent;
        font-size: $fs__heading--bottom;
      }
    }
  }
}
////////////////////////////////////////////////////////////////////////
// tablet styles
@media screen and (min-width: 601px) {
  #es-RC-container {
    .es-hero {
      @include flex(row, flex-end);
      &__left {
        flex-basis: 35%;
        &--subtitle {
          padding-right: 7rem;
        }
      }
      &__right {
        flex-basis: 65%;
        &--headline {
          top: unset;
          bottom: 3rem;
        }
      }
      &__middle {
        left: -130px;
        align-items: flex-end;
      }
    }
    .es-benefits {
      &__main {
        transform: translate(-50%, -50%);
        &--title {
          width: 32ch;
        }
      }
      &__icon-wrapper {
        @include flex(row, center);
        padding: unset;
      }
      &__icon-single--title {
        height: 3.5rem;
      }
    }
  
  .es-how {
    &__wrapper {
      &::before {
        content: url("#{$file-path}arrow-left#{$img-format}");
        position: absolute;
        left: -80px;
        top: 80px;
      }
    }
  }
  .es-use {
    &__wrapper {
      @include flex(row, center);
    }
    &__single {
      width: 33%;
    }
  }
  .es-routine {
    &__wrapper--flex {
      @include flex(row, center);
    }
    &__header--S {
      color: white;
    }
    
    &__arrow {
      visibility: visible;
      max-width: 30%;
      transform: rotate(90deg) scaleX(-1);
      &--1 {
        position: absolute;
        top: 100px;
        left: 0;
      }
      &--2 {
        position: absolute;
        top: 100px;
      }
      &--3 {
        transform: rotate(270deg);
        position: absolute;
        top: 100px;
        right: 0;
      }
    }
  }
}
}
